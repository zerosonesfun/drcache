javascript:(async()=>{const d=document;const w=window;let s={ls:0,ss:0,c:0,sw:0,idb:0,ck:0,est:null};try{s.ls=Object.keys(localStorage).length;}catch(e){}try{s.ss=Object.keys(sessionStorage).length;}catch(e){}try{if("caches" in w){s.c=( await caches.keys()).length;}}catch(e){}try{if("serviceWorker" in navigator){s.sw=( await navigator.serviceWorker.getRegistrations()).length;}}catch(e){}try{if(indexedDB.databases){s.idb=( await indexedDB.databases()).length;}}catch(e){}try{if(document.cookie && document.cookie.trim()){s.ck=document.cookie.split(";").filter(c=>c.trim()).length;}else{s.ck=0;}}catch(e){s.ck=0;}try{if(navigator.storage?.estimate){s.est= await navigator.storage.estimate();}}catch(e){} async function clearCookies(){if(!document.cookie || document.cookie.trim()===""){return;}const cookies=document.cookie.split(";");for(const c of cookies){const trimmed=c.trim();if(!trimmed)continue;const n=trimmed.split("=")[0].trim();if(!n)continue;for(const dmn of[location.hostname,"." + location.hostname]){const paths=["/",location.pathname];for(const path of paths){document.cookie=n + "=;expires=Thu,01 Jan 1970 00:00:00 GMT;path=" + path + ";domain=" + dmn;document.cookie=n + "=;expires=Thu,01 Jan 1970 00:00:00 GMT;path=" + path;}}}}const css="position:fixed;inset:0;z-index:999999;background:rgba(0,0,0,.86);color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;padding:24px;overflow:auto;";const box="max-width:880px;margin:0 auto;background:#111;border-radius:14px;padding:22px;box-shadow:0 0 0 1px #333";const row=(a,b)=>`<div style="display:flex;justify-content:space-between;margin:6px 0;opacity:.9"><div>${a}</div><div style="opacity:.7">${b}</div></div>`;const chk=(i,l,d,x)=>`<label style="display:block;margin:12px 0;opacity:${x ? .5:1}"><input type="checkbox" id="${i}" ${x ? "disabled":""}style="margin-right:8px"><strong>${l}</strong><div style="font-size:13px;opacity:.75;margin-left:22px">${d}</div></label>`;function getBrowserInstructions(){const ua=navigator.userAgent;const isChrome=/Chrome|Chromium|Brave|Edg|Opera/i.test(ua)&& !/Firefox|Safari/i.test(ua);const isFirefox=/Firefox/i.test(ua);const isSafari=/Safari/i.test(ua)&& !/Chrome|Chromium|Edg|Firefox/i.test(ua);if(isChrome){return `<strong>Chrome/Edge/Brave:</strong>1. Right-click anywhere on the page 2. Select "Inspect"(or press F12)3. Click the "Application" tab at the top 4. In the left sidebar,find "Storage" 5. Click "Clear site data" button at the top 6. Or manually clear:- Cookies:Expand "Cookies" → Right-click domain → "Clear" - Cache Storage:Expand "Cache Storage" → Right-click each entry → "Delete" - Local Storage:Expand "Local Storage" → Right-click domain → "Clear" - IndexedDB:Expand "IndexedDB" → Right-click database → "Delete Database" `;}else if(isFirefox){return `<strong>Firefox:</strong>1. Right-click anywhere on the page 2. Select "Inspect"(or press F12)3. Click the "Storage" tab at the top 4. Expand each section and right-click to delete:- Cookies:Right-click cookie → "Delete" - Cache Storage:Right-click cache → "Delete" - Local Storage:Right-click domain → "Delete All" - IndexedDB:Right-click database → "Delete Database" 5. Or use:Menu → Settings → Privacy → Cookies and Site Data → "Clear Data" `;}else if(isSafari){return `<strong>Safari:</strong>1. Enable Developer menu:Safari → Settings → Advanced → "Show features for web developers" 2. Right-click on the page → "Inspect Element" 3. Click the "Storage" tab 4. Expand sections and delete items:- Cookies:Right-click → "Delete" - Local Storage:Right-click → "Delete All" - IndexedDB:Right-click → "Delete Database" 5. Or use:Safari → Settings → Privacy → "Manage Website Data" → Remove site `;}else{return `<strong>General Instructions:</strong>1. Right-click on the page and select "Inspect" or "Inspect Element" 2. Look for tabs like "Application","Storage",or "Debugger" 3. Find sections for Cookies,Cache,Local Storage,and IndexedDB 4. Right-click on items to delete them 5. Or use your browser's settings menu to clear site data `;}}const o=d.createElement("div");o.style.cssText=css;let htmlBuilt=false;try{o.innerHTML=`<div style="${box}"><!-- Header with close button --><div style="display:flex;justify-content:space-between;align-items:center"><div style="font-size:22px;font-weight:700">Site Memory Helper</div><button id="x" style="background:none;border:none;color:#aaa;font-size:22px;cursor:pointer">×</button></div><!-- Subtitle --><div style="margin-top:8px;opacity:.85">Nothing has been cleared yet. Choose what to clean.</div><!-- Stats display area(will be populated dynamically)--><div style="margin-top:18px" id="stats"></div><!-- Checkbox options --><div style="margin-top:18px;border-top:1px solid #333;padding-top:16px">${chk("l","Clear localStorage","Small saved values used by the site.",s.ls===0)}${chk("s","Clear sessionStorage","Temporary tab memory.",s.ss===0)}${chk("c","Delete Cache Storage","Stored network responses.",s.c===0)}${chk("w","Unregister service workers","Background logic that can keep old behavior.",s.sw===0)}${chk("k","Attempt to clear cookies","Only cookies browsers allow scripts to remove.",s.ck===0)}</div><!-- Clear button --><button id="run" style="margin-top:16px;background:#fff;color:#000;border:none;border-radius:10px;padding:10px 16px;font-size:15px;cursor:pointer">Clear selected</button><!-- Output log area --><div id="out" style="margin-top:16px;opacity:.9"></div><!-- Help section --><div style="margin-top:22px;border-top:1px solid #333;padding-top:14px"><div style="font-weight:600;margin-bottom:6px">Why some cookies and cache may remain</div><div style="opacity:.85;font-size:14px;line-height:1.45;margin-bottom:12px">Browsers protect certain cookies and cache for safety. Scripts can only remove a subset. To fully clear everything,use your browser's developer tools with the instructions below.</div><div style="background:#000;padding:14px;border-radius:8px;font-size:13px;line-height:1.6;white-space:pre-wrap;font-family:monospace">${getBrowserInstructions()}</div></div><!-- Footer --><div style="margin-top:14px;font-size:12px;opacity:.6">Runs locally. No tracking. No network.</div></div>`;htmlBuilt=true;}catch(e){const boxDiv=d.createElement("div");boxDiv.style.cssText=box;const headerDiv=d.createElement("div");headerDiv.style.cssText="display:flex;justify-content:space-between;align-items:center";const titleDiv=d.createElement("div");titleDiv.style.cssText="font-size:22px;font-weight:700";titleDiv.textContent="Site Memory Helper";const closeBtn=d.createElement("button");closeBtn.id="x";closeBtn.style.cssText="background:none;border:none;color:#aaa;font-size:22px;cursor:pointer";closeBtn.textContent="×";headerDiv.appendChild(titleDiv);headerDiv.appendChild(closeBtn);const subtitleDiv=d.createElement("div");subtitleDiv.style.cssText="margin-top:8px;opacity:.85";subtitleDiv.textContent="Nothing has been cleared yet. Choose what to clean.";const statsDiv=d.createElement("div");statsDiv.id="stats";statsDiv.style.cssText="margin-top:18px";const checkboxesDiv=d.createElement("div");checkboxesDiv.style.cssText="margin-top:18px;border-top:1px solid #333;padding-top:16px";const checkboxData=[{id:"l",label:"Clear localStorage",desc:"Small saved values used by the site.",disabled:s.ls===0},{id:"s",label:"Clear sessionStorage",desc:"Temporary tab memory.",disabled:s.ss===0},{id:"c",label:"Delete Cache Storage",desc:"Stored network responses.",disabled:s.c===0},{id:"w",label:"Unregister service workers",desc:"Background logic that can keep old behavior.",disabled:s.sw===0},{id:"k",label:"Attempt to clear cookies",desc:"Only cookies browsers allow scripts to remove.",disabled:s.ck===0}];checkboxData.forEach(cb=>{const label=d.createElement("label");label.style.cssText=`display:block;margin:12px 0;opacity:${cb.disabled ? 0.5:1}`;const input=d.createElement("input");input.type="checkbox";input.id=cb.id;if(cb.disabled)input.disabled=true;input.style.cssText="margin-right:8px";const strong=d.createElement("strong");strong.textContent=cb.label;const descDiv=d.createElement("div");descDiv.style.cssText="font-size:13px;opacity:.75;margin-left:22px";descDiv.textContent=cb.desc;label.appendChild(input);label.appendChild(strong);label.appendChild(descDiv);checkboxesDiv.appendChild(label);});const runBtn=d.createElement("button");runBtn.id="run";runBtn.style.cssText="margin-top:16px;background:#fff;color:#000;border:none;border-radius:10px;padding:10px 16px;font-size:15px;cursor:pointer";runBtn.textContent="Clear selected";const outDiv=d.createElement("div");outDiv.id="out";outDiv.style.cssText="margin-top:16px;opacity:.9";const helpDiv=d.createElement("div");helpDiv.style.cssText="margin-top:22px;border-top:1px solid #333;padding-top:14px";const helpTitle=d.createElement("div");helpTitle.style.cssText="font-weight:600;margin-bottom:6px";helpTitle.textContent="Why some cookies and cache may remain";const helpText=d.createElement("div");helpText.style.cssText="opacity:.85;font-size:14px;line-height:1.45;margin-bottom:12px";helpText.textContent="Browsers protect certain cookies and cache for safety. Scripts can only remove a subset. To fully clear everything,use your browser's developer tools with the instructions below.";const helpCode=d.createElement("div");helpCode.style.cssText="background:#000;padding:14px;border-radius:8px;font-size:13px;line-height:1.6;white-space:pre-wrap;font-family:monospace";helpCode.textContent=getBrowserInstructions();helpDiv.appendChild(helpTitle);helpDiv.appendChild(helpText);helpDiv.appendChild(helpCode);const footerDiv=d.createElement("div");footerDiv.style.cssText="margin-top:14px;font-size:12px;opacity:.6";footerDiv.textContent="Runs locally. No tracking. No network.";boxDiv.appendChild(headerDiv);boxDiv.appendChild(subtitleDiv);boxDiv.appendChild(statsDiv);boxDiv.appendChild(checkboxesDiv);boxDiv.appendChild(runBtn);boxDiv.appendChild(outDiv);boxDiv.appendChild(helpDiv);boxDiv.appendChild(footerDiv);o.appendChild(boxDiv);htmlBuilt=true;}if(!htmlBuilt){o.innerHTML="<div style='padding:40px;text-align:center;color:#fff'><h2>Site Memory Helper</h2><p>This site's security policy prevents the bookmarklet from loading.</p><p>Try using your browser's developer tools instead.</p></div>";}if(d.body){d.body.appendChild(o);}else{const addOverlay=()=>{if(d.body){d.body.appendChild(o);}};if(d.readyState==="loading"){d.addEventListener("DOMContentLoaded",addOverlay);}else{setTimeout(addOverlay,0);}}const closeBtn=o.querySelector("#x");if(closeBtn){closeBtn.onclick=()=>o.remove();}else{o.onclick=(e)=>{if(e.target===o)o.remove();};} async function updateStats(){let cachesCount=0;let swCount=0;let idbCount=0;if("caches" in w){try{cachesCount=( await caches.keys()).length;}catch(e){}}if(navigator.serviceWorker){try{swCount=( await navigator.serviceWorker.getRegistrations()).length;}catch(e){}}if(indexedDB.databases){try{idbCount=( await indexedDB.databases()).length;}catch(e){}}const stats=d.getElementById("stats");let lsCount=0;let ssCount=0;let cookieCount=0;try{lsCount=localStorage.length;}catch(e){lsCount=0;}try{ssCount=sessionStorage.length;}catch(e){ssCount=0;}try{cookieCount=document.cookie && document.cookie.trim()? document.cookie.split(";").filter(c=>c.trim()).length:0;}catch(e){cookieCount=0;}stats.innerHTML=row("localStorage items",lsCount)+ row("sessionStorage items",ssCount)+ row("Cache Storage entries",cachesCount)+ row("Service workers",swCount)+ row("IndexedDB databases",idbCount)+ row("Cookies(visible)",cookieCount);}updateStats();const runBtn=o.querySelector("#run");if(runBtn){runBtn.onclick=async()=>{let log=[];if(d.getElementById("l").checked){try{localStorage.clear();log.push("localStorage cleared");}catch(e){log.push("localStorage failed");}}if(d.getElementById("s").checked){try{sessionStorage.clear();log.push("sessionStorage cleared");}catch(e){log.push("sessionStorage failed");}}if(d.getElementById("c").checked){try{for(const k of await caches.keys()){ await caches.delete(k);}log.push("Cache Storage cleared");}catch(e){log.push("Cache Storage failed");}}if(d.getElementById("w").checked){try{for(const r of await navigator.serviceWorker.getRegistrations()){ await r.unregister();}log.push("Service workers unregistered");}catch(e){log.push("Service workers failed");}}if(d.getElementById("k").checked){try{ await clearCookies();log.push("Cookie cleanup attempted");}catch(e){log.push("Cookie cleanup failed");}}const outDiv=o.querySelector("#out");if(log.length===0){outDiv.innerHTML="<div style='margin-top:8px;opacity:.7'>No items selected for clearing.</div>";}else{outDiv.innerHTML="<div style='margin-top:8px'><strong>Results:</strong><br>" + log.map(x=>"• " + x).join("<br>")+ "</div>";} await updateStats();};}})();