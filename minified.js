javascript:(async()=>{const d=document,w=window;let s={ls:0,ss:0,c:0,sw:0,idb:0,ck:0,est:null};try{s.ls=Object.keys(localStorage).length}catch{}try{s.ss=Object.keys(sessionStorage).length}catch{}try{if("caches"in w)s.c=(await caches.keys()).length}catch{}try{if("serviceWorker"in navigator)s.sw=(await navigator.serviceWorker.getRegistrations()).length}catch{}try{if(indexedDB.databases)s.idb=(await indexedDB.databases()).length}catch{}try{if(document.cookie&&document.cookie.trim())s.ck=document.cookie.split(";").filter(c=>c.trim()).length;else s.ck=0}catch{s.ck=0}try{if(navigator.storage?.estimate)s.est=await navigator.storage.estimate()}catch{}async function clearCookies(){if(!document.cookie||document.cookie.trim()==="")return;const cookies=document.cookie.split(";");for(const c of cookies){const trimmed=c.trim();if(!trimmed)continue;const n=trimmed.split("=")[0].trim();if(!n)continue;for(const dmn of[location.hostname,"."+location.hostname]){const paths=["/",location.pathname];for(const path of paths){document.cookie=n+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path="+path+"; domain="+dmn;document.cookie=n+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path="+path}}}}const css="position:fixed;inset:0;z-index:999999;background:rgba(0,0,0,.86);color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;padding:24px;overflow:auto;",box="max-width:880px;margin:0 auto;background:#111;border-radius:14px;padding:22px;box-shadow:0 0 0 1px #333";const row=(a,b)=>`<div style="display:flex;justify-content:space-between;margin:6px 0;opacity:.9"><div>${a}</div><div style="opacity:.7">${b}</div></div>`;const chk=(i,l,d,x)=>`<label style="display:block;margin:12px 0;opacity:${x?.5:1}"><input type="checkbox" id="${i}" ${x?"disabled":""} style="margin-right:8px"><strong>${l}</strong><div style="font-size:13px;opacity:.75;margin-left:22px">${d}</div></label>`;function getBrowserInstructions(){const ua=navigator.userAgent;const isChrome=/Chrome|Chromium|Brave|Edg|Opera/i.test(ua)&&!/Firefox|Safari/i.test(ua);const isFirefox=/Firefox/i.test(ua);const isSafari=/Safari/i.test(ua)&&!/Chrome|Chromium|Edg|Firefox/i.test(ua);if(isChrome){return`<strong>Chrome/Edge/Brave:</strong>
1. Right-click anywhere on the page
2. Select "Inspect" (or press F12)
3. Click the "Application" tab at the top
4. In the left sidebar, find "Storage"
5. Click "Clear site data" button at the top
6. Or manually clear:
   - Cookies: Expand "Cookies" → Right-click domain → "Clear"
   - Cache Storage: Expand "Cache Storage" → Right-click each entry → "Delete"
   - Local Storage: Expand "Local Storage" → Right-click domain → "Clear"
   - IndexedDB: Expand "IndexedDB" → Right-click database → "Delete Database"
`}else if(isFirefox){return`<strong>Firefox:</strong>
1. Right-click anywhere on the page
2. Select "Inspect" (or press F12)
3. Click the "Storage" tab at the top
4. Expand each section and right-click to delete:
   - Cookies: Right-click cookie → "Delete"
   - Cache Storage: Right-click cache → "Delete"
   - Local Storage: Right-click domain → "Delete All"
   - IndexedDB: Right-click database → "Delete Database"
5. Or use: Menu → Settings → Privacy → Cookies and Site Data → "Clear Data"
`}else if(isSafari){return`<strong>Safari:</strong>
1. Enable Developer menu: Safari → Settings → Advanced → "Show features for web developers"
2. Right-click on the page → "Inspect Element"
3. Click the "Storage" tab
4. Expand sections and delete items:
   - Cookies: Right-click → "Delete"
   - Local Storage: Right-click → "Delete All"
   - IndexedDB: Right-click → "Delete Database"
5. Or use: Safari → Settings → Privacy → "Manage Website Data" → Remove site
`}else{return`<strong>General Instructions:</strong>
1. Right-click on the page and select "Inspect" or "Inspect Element"
2. Look for tabs like "Application", "Storage", or "Debugger"
3. Find sections for Cookies, Cache, Local Storage, and IndexedDB
4. Right-click on items to delete them
5. Or use your browser's settings menu to clear site data
`}}const o=d.createElement("div");o.style.cssText=css;o.innerHTML=`<div style="${box}"><div style="display:flex;justify-content:space-between;align-items:center"><div style="font-size:22px;font-weight:700">Site Memory Helper</div><button id="x" style="background:none;border:none;color:#aaa;font-size:22px;cursor:pointer">×</button></div><div style="margin-top:8px;opacity:.85">Nothing has been cleared yet. Choose what to clean.</div><div style="margin-top:18px" id="stats"></div><div style="margin-top:18px;border-top:1px solid #333;padding-top:16px">${chk("l","Clear localStorage","Small saved values used by the site.",s.ls===0)}${chk("s","Clear sessionStorage","Temporary tab memory.",s.ss===0)}${chk("c","Delete Cache Storage","Stored network responses.",s.c===0)}${chk("w","Unregister service workers","Background logic that can keep old behavior.",s.sw===0)}${chk("k","Attempt to clear cookies","Only cookies browsers allow scripts to remove.",s.ck===0)}</div><button id="run" style="margin-top:16px;background:#fff;color:#000;border:none;border-radius:10px;padding:10px 16px;font-size:15px;cursor:pointer">Clear selected</button><div id="out" style="margin-top:16px;opacity:.9"></div><div style="margin-top:22px;border-top:1px solid #333;padding-top:14px"><div style="font-weight:600;margin-bottom:6px">Why some cookies and cache may remain</div><div style="opacity:.85;font-size:14px;line-height:1.45;margin-bottom:12px">Browsers protect certain cookies and cache for safety. Scripts can only remove a subset. To fully clear everything, use your browser's developer tools with the instructions below.</div><div style="background:#000;padding:14px;border-radius:8px;font-size:13px;line-height:1.6;white-space:pre-wrap;font-family:monospace">${getBrowserInstructions()}</div></div><div style="margin-top:14px;font-size:12px;opacity:.6">Runs locally. No tracking. No network.</div></div>`;if(d.body){d.body.appendChild(o)}else{const addOverlay=()=>{if(d.body)d.body.appendChild(o)};if(d.readyState==="loading")d.addEventListener("DOMContentLoaded",addOverlay);else setTimeout(addOverlay,0)}o.querySelector("#x").onclick=()=>o.remove();async function updateStats(){let cachesCount=0,swCount=0,idbCount=0;if("caches"in w)try{cachesCount=(await caches.keys()).length}catch{}if(navigator.serviceWorker)try{swCount=(await navigator.serviceWorker.getRegistrations()).length}catch{}if(indexedDB.databases)try{idbCount=(await indexedDB.databases()).length}catch{}const stats=d.getElementById("stats");let lsCount=0,ssCount=0,cookieCount=0;try{lsCount=localStorage.length}catch{lsCount=0}try{ssCount=sessionStorage.length}catch{ssCount=0}try{cookieCount=document.cookie&&document.cookie.trim()?document.cookie.split(";").filter(c=>c.trim()).length:0}catch{cookieCount=0}stats.innerHTML=row("localStorage items",lsCount)+row("sessionStorage items",ssCount)+row("Cache Storage entries",cachesCount)+row("Service workers",swCount)+row("IndexedDB databases",idbCount)+row("Cookies (visible)",cookieCount)}updateStats();o.querySelector("#run").onclick=async()=>{let log=[];if(d.getElementById("l").checked)try{localStorage.clear();log.push("localStorage cleared")}catch{log.push("localStorage failed")}if(d.getElementById("s").checked)try{sessionStorage.clear();log.push("sessionStorage cleared")}catch{log.push("sessionStorage failed")}if(d.getElementById("c").checked)try{for(const k of await caches.keys())await caches.delete(k);log.push("Cache Storage cleared")}catch{log.push("Cache Storage failed")}if(d.getElementById("w").checked)try{for(const r of await navigator.serviceWorker.getRegistrations())await r.unregister();log.push("Service workers unregistered")}catch{log.push("Service workers failed")}if(d.getElementById("k").checked)try{await clearCookies();log.push("Cookie cleanup attempted")}catch{log.push("Cookie cleanup failed")}const outDiv=o.querySelector("#out");if(log.length===0)outDiv.innerHTML="<div style='margin-top:8px;opacity:.7'>No items selected for clearing.</div>";else outDiv.innerHTML="<div style='margin-top:8px'><strong>Results:</strong><br>"+log.map(x=>"• "+x).join("<br>")+"</div>";await updateStats()}})();

